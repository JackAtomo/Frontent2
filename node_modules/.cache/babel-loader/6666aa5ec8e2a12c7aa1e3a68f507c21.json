{"ast":null,"code":"import _regeneratorRuntime from \"/home/server/Escritorio/Frontent2/node_modules/@babel/runtime/regenerator\";\nvar _jsxFileName = \"/home/server/Escritorio/Frontent2/src/componets/pages/admin.js\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useAuth } from \"../commons/auth/auth-context\";\nimport { getService } from \"../axios/adminServices\";\n\nfunction Admin() {\n  var _useAuth = useAuth(),\n      token = _useAuth.token;\n\n  var _useForm = useForm({\n    mode: \"onBlur\" // Lanza validaciones cada vez que hago blur\n\n  }),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      formState = _useForm.formState,\n      handleSubmit = _useForm.handleSubmit,\n      setError = _useForm.setError;\n\n  var login = document.getElementById('login');\n\n  if (login != null) {\n    login.innerHTML = \"\";\n    login.parentNode.removeChild(login);\n\n    var handleSignUp = function handleSignUp(formData) {\n      return signUp(formData).catch(function (error) {\n        var status = document.getElementById('status');\n\n        if (error.response.status === 409) {\n          status.innerHTML = \"The email already exists. Please try again\";\n          setError(\"email\", \"conflict\", \"The email already exists. Please try again\");\n        } else {\n          status.innerHTML = \"Algo a ido mal intentelo de nuevo Error:\".concat(error.response.status);\n        }\n      });\n    };\n  }\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Admin Page\"), React.createElement(\"fieldset\", {\n    id: \"solicitudes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }));\n}\n\nexport { Admin };\n\nfunction solicitudes(token) {\n  var response, policies, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, policie, type, output;\n\n  return _regeneratorRuntime.async(function solicitudes$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(ge(token));\n\n        case 2:\n          response = _context.sent;\n          policies = response.data;\n          document.getElementById(\"polizas\").innerHTML = \"\";\n          _iteratorNormalCompletion = true;\n          _didIteratorError = false;\n          _iteratorError = undefined;\n          _context.prev = 8;\n          _iterator = policies[Symbol.iterator]();\n\n        case 10:\n          if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n            _context.next = 28;\n            break;\n          }\n\n          policie = _step.value;\n          type = policie.policyType;\n          _context.t0 = type;\n          _context.next = _context.t0 === 1 ? 16 : _context.t0 === 2 ? 18 : _context.t0 === 3 ? 20 : 22;\n          break;\n\n        case 16:\n          type = \"Basico\";\n          return _context.abrupt(\"break\", 22);\n\n        case 18:\n          type = \"Reforzado\";\n          return _context.abrupt(\"break\", 22);\n\n        case 20:\n          type = \"Premiun\";\n          return _context.abrupt(\"break\", 22);\n\n        case 22:\n          output = \"<fieldset>\\n     <label>Numero de Poliza:</label>\\n     <label>\".concat(policie.policyNumber, \"</label>\\n     </fieldset>\\n     <fieldset>\\n     <label>Tipo de seguro:</label>\\n     <label>\").concat(type, \"<label>\\n     </fieldset>\\n     <fieldset>\\n     </fieldset>\");\n          console.log(policie);\n          document.getElementById(\"polizas\").innerHTML = output + document.getElementById(\"polizas\").innerHTML;\n\n        case 25:\n          _iteratorNormalCompletion = true;\n          _context.next = 10;\n          break;\n\n        case 28:\n          _context.next = 34;\n          break;\n\n        case 30:\n          _context.prev = 30;\n          _context.t1 = _context[\"catch\"](8);\n          _didIteratorError = true;\n          _iteratorError = _context.t1;\n\n        case 34:\n          _context.prev = 34;\n          _context.prev = 35;\n\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n\n        case 37:\n          _context.prev = 37;\n\n          if (!_didIteratorError) {\n            _context.next = 40;\n            break;\n          }\n\n          throw _iteratorError;\n\n        case 40:\n          return _context.finish(37);\n\n        case 41:\n          return _context.finish(34);\n\n        case 42:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[8, 30, 34, 42], [35,, 37, 41]]);\n}","map":{"version":3,"sources":["/home/server/Escritorio/Frontent2/src/componets/pages/admin.js"],"names":["React","useState","useForm","useAuth","getService","Admin","token","mode","register","errors","formState","handleSubmit","setError","login","document","getElementById","innerHTML","parentNode","removeChild","handleSignUp","formData","signUp","catch","error","status","response","solicitudes","ge","policies","data","policie","type","policyType","output","policyNumber","console","log"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useAuth } from \"../commons/auth/auth-context\";\r\nimport {getService} from \"../axios/adminServices\"\r\nfunction Admin() {\r\n\r\n  const {token} = useAuth();\r\n  const { register, errors, formState, handleSubmit, setError } = useForm({\r\n    mode: \"onBlur\" // Lanza validaciones cada vez que hago blur\r\n  });\r\n\r\n\r\n\r\n  \r\n  let login = document.getElementById('login');\r\n if(login!=null){\r\n  login.innerHTML=\"\"  \r\n  login.parentNode.removeChild(login);\r\n\r\n const handleSignUp = formData => {\r\n    return signUp(formData).catch(error => {\r\n         let status=document.getElementById('status');\r\n      if (error.response.status === 409) {\r\n        status.innerHTML=\"The email already exists. Please try again\";\r\n           setError(\r\n          \"email\",\r\n          \"conflict\",\r\n          \"The email already exists. Please try again\"\r\n        );\r\n      }else{\r\n           status.innerHTML=`Algo a ido mal intentelo de nuevo Error:${error.response.status}`;\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n}\r\n return(\r\n <React.Fragment>\r\n <h1>Admin Page</h1>\r\n <fieldset id=\"solicitudes\">\r\n     \r\n </fieldset>\r\n </React.Fragment>)\r\n}\r\nexport {Admin};\r\n\r\nasync function solicitudes(token){\r\n    let response = await ge(token)\r\n   let policies = response.data;\r\n   document.getElementById(\"polizas\").innerHTML= \"\";\r\n\r\n   for (const policie of policies) {\r\n     let type=policie.policyType\r\n     switch (type) {\r\n       case 1:\r\n         type=\"Basico\"\r\n         break;\r\n         case 2:\r\n         type=\"Reforzado\"\r\n         break;\r\n         case 3:\r\n         type=\"Premiun\"\r\n         break;\r\n     }\r\n     let output = `<fieldset>\r\n     <label>Numero de Poliza:</label>\r\n     <label>${policie.policyNumber}</label>\r\n     </fieldset>\r\n     <fieldset>\r\n     <label>Tipo de seguro:</label>\r\n     <label>${type}<label>\r\n     </fieldset>\r\n     <fieldset>\r\n     </fieldset>` \r\n     console.log(policie)\r\n   document.getElementById(\"polizas\").innerHTML= output + document.getElementById(\"polizas\").innerHTML;\r\n   }\r\n   }\r\n"]},"metadata":{},"sourceType":"module"}